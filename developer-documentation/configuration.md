---
description: Registry provides following configuration properties
---

# Configurations

### **Registry Configurations**

| Properties                                       | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **notification\_enabled**                        | boolean value which determines whether notification is to be sent or not                                                                                                                                                                                                                                                                                                                                                                                               |
| **notification\_url**                            | url which will be used to send notification url                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **notification\_async\_enabled**                 | to send out notifications in asynchronous manner                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **notification\_topic**                          | if notification\_async\_enabled is enabled, then kafka topic to which notification event will be sent                                                                                                                                                                                                                                                                                                                                                                  |
| **registry\_perRequest\_indexCreation\_enabled** | boolean value which determines if index needs to be created at database level                                                                                                                                                                                                                                                                                                                                                                                          |
| **external\_entities**                           | comma separated strings of external entities                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **workflow.enable**                              | boolean value to enable or disable the workflow i.e attestation policy                                                                                                                                                                                                                                                                                                                                                                                                 |
| **async\_enabled**                               | create entities asynchronously                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **kafka\_create\_entity\_topic**                 | if async\_enabled, then this property defines the topic name to which new async requests are pushed                                                                                                                                                                                                                                                                                                                                                                    |
| **kafka\_post\_create\_entity\_topic**           | if async is enabled, then this property defines the topic name to which the response of create-entity is pushed                                                                                                                                                                                                                                                                                                                                                        |
| **search\_offset**                               | this is the default offset that will be used while searching,                                                                                                                                                                                                                                                                                                                                                                                                          |
| **search\_limit**                                | this is the default limit that will be used or the max value that can be used to as a limit in the search                                                                                                                                                                                                                                                                                                                                                              |
| **search\_expandInternal**                       | boolean value, if set true, all the search results will be expanded to include internal objects.                                                                                                                                                                                                                                                                                                                                                                       |
| **database\_provider**                           | this property states which database is to be used. Providers available are NEO4J, SQLG, CASSANDRA, ORIENTDB, TINKERGRAPH (in-memory)                                                                                                                                                                                                                                                                                                                                   |
| **connectionInfo\_uri**                          | url to connect to database. eg Postgres - jdbc:postgresql://localhost:5432/yourdb                                                                                                                                                                                                                                                                                                                                                                                      |
| **connectionInfo\_username**                     | username to be used to connect to database                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **connectionInfo\_password**                     | password to be used to connect to database                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **connectionInfo\_maxPoolSize**                  | Database connection pool size                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **verify\_url**                                  | this url will be used to verify the issued VC. point it to {certification\_signer}/verify                                                                                                                                                                                                                                                                                                                                                                              |
| **certificate\_health\_check\_url**              | certificate api service's health check url                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **template\_folder\_path**                       | path from which default template will be loaded if no external template is provided. File name should be the **`name_of_schema.appropriate_extention`** The location should be in resources folder                                                                                                                                                                                                                                                                     |
| **audit\_enabled**                               | This audit configuration will enable audit logging in the system                                                                                                                                                                                                                                                                                                                                                                                                       |
| **audit\_frame\_store**                          | <p>FILE : Store the audit log in files.<br>DATABASE : Store the audit log in the primary database configured and in elastic search if it's enabled</p>                                                                                                                                                                                                                                                                                                                 |
| **audit\_suffix**                                | suffix which is used for schema name to store audit information for a particular entity type                                                                                                                                                                                                                                                                                                                                                                           |
| **audit\_suffixSeparator**                       | separator between entity name and audit\_suffix                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **validation\_enabled**                          | boolean property to check for request body to be validated in specific format                                                                                                                                                                                                                                                                                                                                                                                          |
| **validation\_type**                             | type in which request body needs to be validated. eg JSON                                                                                                                                                                                                                                                                                                                                                                                                              |
| **service\_connection\_timeout**                 | Set the connection timeout in milliseconds for the underlying request configuration                                                                                                                                                                                                                                                                                                                                                                                    |
| **service\_connection\_request\_timeout**        | Set the timeout in milliseconds used when requesting a connection from the connection manager using the underlying request Configuration                                                                                                                                                                                                                                                                                                                               |
| **service\_read\_timeout**                       | Set the socket read timeout in milliseconds for the underlying request configuration                                                                                                                                                                                                                                                                                                                                                                                   |
| **http\_max\_connections**                       | maximum http connections                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **taskExecutor\_index\_threadPoolName**          | Specify the prefix to use for the names of newly created threads.                                                                                                                                                                                                                                                                                                                                                                                                      |
| **taskExecutor\_index\_corePoolSize**            | Set the ThreadPoolExecutor's core pool size.                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **taskExecutor\_index\_maxPoolSize**             | Set the ThreadPoolExecutor's maximum pool size.                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **taskExecutor\_index\_queueCapacity**           | Set the capacity for the ThreadPoolExecutor's BlockingQueue.                                                                                                                                                                                                                                                                                                                                                                                                           |
| **auditTaskExecutor\_threadPoolName**            | Specify the prefix to use for the names of newly created threads.                                                                                                                                                                                                                                                                                                                                                                                                      |
| **auditTaskExecutor\_corePoolSize**              | Set the ThreadPoolExecutor's core pool size.                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **auditTaskExecutor\_maxPoolSize**               | Set the ThreadPoolExecutor's maximum pool size.                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **auditTaskExecutor\_queueCapacity**             | Set the capacity for the ThreadPoolExecutor's BlockingQueue.                                                                                                                                                                                                                                                                                                                                                                                                           |
| **elastic\_search\_connection\_url**             | url for elastic search connection if elastic search is enabled. Elastic search is enabled using search\_providerName                                                                                                                                                                                                                                                                                                                                                   |
| **search\_providerName**                         | <p>The search mechanism to use. Values could be either NativeSearchService or ElasticSearchService. If NativeSearchService, then every search API uses the same database as the writes. May not offer high speed reads. This is the default search service, if this config is not provided. If ElasticSearchService, then Elastic search is used.<br>Ex: (dev.sunbirdrc.registry.service.ElasticSearchService, dev.sunbirdrc.registry.service.NativeSearchService)</p> |
| **sunbird\_sso\_realm**                          | identity provider realm name to be used for authentication and authorization                                                                                                                                                                                                                                                                                                                                                                                           |
| **sunbird\_sso\_url**                            | identity provider connection url                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **sunbird\_sso\_admin\_client\_id**              | client id to be used as admin                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **sunbird\_sso\_admin\_client\_secret**          | secret key of keycloak admin client set by using sunbird\_sso\_admin\_client\_id                                                                                                                                                                                                                                                                                                                                                                                       |
| **sunbird\_keycloak\_user\_set\_password**       | boolean value to default password for user/owner of entity in identity provider                                                                                                                                                                                                                                                                                                                                                                                        |
| **sunbird\_keycloak\_user\_password**            | if sunbird\_keycloak\_user\_set\_password is set to true, provide this value to set this as default user password                                                                                                                                                                                                                                                                                                                                                      |
| **identity\_user\_actions**                      | actions which will be trigger by identity provider example email actions: VERIFY\_EMAIL, UPDATE\_PROFILE, UPDATE\_PASSWORD,TERMS\_AND\_CONDITIONS etc. email details should be configured in identity provider realm settings                                                                                                                                                                                                                                          |
| **identity\_provider**                           | <p>name of the implementation of identity provider. below are the implemented identity providers in registry - </p><p><code>dev.sunbirdrc.auth.auth0.Auth0ProviderImpl</code> <code>dev.sunbirdrc.auth.genericiam.AuthProviderImpl</code></p><p><code>dev.sunbirdrc.auth.keycloak.KeycloakProviderImpl</code></p>                                                                                                                                                      |
| **oauth2\_resource\_uri**                        | identity provider resource url. i.e. [http://keycloak:8080/auth/realms/sunbird-rc](http://keycloak:8080/auth/realms/sunbird-rc)                                                                                                                                                                                                                                                                                                                                        |
| **oauth2\_resource\_email\_path**                | email path in identity provider resource (jwt token). i.e. email                                                                                                                                                                                                                                                                                                                                                                                                       |
| **oauth2\_resource\_consent\_path**              | consent path in identity provider resource. i.e. consent                                                                                                                                                                                                                                                                                                                                                                                                               |
| **oauth2\_resource\_roles\_path**                | roles path in identity provider resource. i.e. realm\_access.roles                                                                                                                                                                                                                                                                                                                                                                                                     |
| **oauth2\_resource\_entity\_path**               | entity path in identity provider resource. i.e. entity                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **oauth2\_resource\_user\_id\_path**             | user id path in identity provider resource. i.e. sub                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **claims\_enabled**                              | default `false`. boolean value which determines whether attestation is to be done                                                                                                                                                                                                                                                                                                                                                                                      |
| **claims\_url**                                  | url in order to connect to claims service                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **signature\_enabled**                           | boolean value which determines whether signature is to be created for a document                                                                                                                                                                                                                                                                                                                                                                                       |
| **sign\_url**                                    | url in order to connect to certificate signer to sign the document                                                                                                                                                                                                                                                                                                                                                                                                     |
| **sign\_health\_check\_url**                     | certificate signer health check url                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **certificate\_enabled**                         | default `false`. boolean value which determines whether certificate is to be generated                                                                                                                                                                                                                                                                                                                                                                                 |
| **pdf\_url**                                     | url to fetch certificate from certificate api service                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **certificate\_health\_check\_url**              | certificate api health check url                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **template\_base\_url**                          | api endpoint to get default templates stored in sunbird-rc                                                                                                                                                                                                                                                                                                                                                                                                             |
| **filestorage\_enabled**                         | default `false`. boolean value which determines whether documents are to be stored                                                                                                                                                                                                                                                                                                                                                                                     |
| **filestorage\_connection\_url**                 | minio connection url to store files                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **filestorage\_access\_key**                     | access key of minio                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **filestorage\_secret\_key**                     | secret key of minio                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **filestorage\_bucket\_key**                     | bucket name where to store the files in minio                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **registry\_base\_apis\_enable**                 | if enabled the exisitng /add /update apis will be enabled. This is to enable backward compatibility                                                                                                                                                                                                                                                                                                                                                                    |
| **logging.level.root**                           | <p>The log level that will be used for logging. Default logging is INFO.<br>Values supported:<br>INFO<br>DEBUG<br>WARN<br>ERROR</p>                                                                                                                                                                                                                                                                                                                                    |
| **enable\_external\_templates**                  | boolean value which when set to true, one can retrieve the certificate pdf using external templates                                                                                                                                                                                                                                                                                                                                                                    |
| **authentication\_enabled**                      | boolean value to enable authentication in the system                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **kafka\_bootstrap\_address**                    | url for kafka connection                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **webhook\_enabled**                             | boolean value to enable webhook if async\_enabled is true                                                                                                                                                                                                                                                                                                                                                                                                              |
| **webhook\_url**                                 | if async\_enabled and webhook\_enabled is set to true, the caller can retrieve information of the created entity once it is generated via this webhook url                                                                                                                                                                                                                                                                                                             |
| **redis\_host**                                  | redis connection url                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **redis\_port**                                  | port on which redis is running                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **manager\_type**                                | if using a single instance of registry, set this value to DefinitionsManager else set to DistributedDefinitionsManager                                                                                                                                                                                                                                                                                                                                                 |
| **service\_retry\_maxAttempts**                  | The number of times an attempt must be made to reach to the service                                                                                                                                                                                                                                                                                                                                                                                                    |
| **service\_retry\_backoff\_delay**               | The fixed time interval, in milliseconds, between each such attempt.                                                                                                                                                                                                                                                                                                                                                                                                   |
| **event\_enabled**                               | boolean value that indicates whether events should be emitted or not. if enabled, registry will start emitting events                                                                                                                                                                                                                                                                                                                                                  |
| **event\_topic**                                 | kafka topic name to which events will be emitted                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **event\_providerName**                          | name of provider to be used for emitting events. For eg: if Kafka is used, the value should be `dev.sunbirdrc.registry.service.impl.KafkaEventService`. If file is to be used to store events the value should be \``dev.sunbirdrc.registry.service.impl.FileEventService.java`\`                                                                                                                                                                                      |
| **encryption\_enabled**                          | <p>default <code>false</code>. boolean value which determines whether to enable encryption to store private fields.<br><br><em>Note: External encryption service is required to encrypt/decrypt</em><br></p>                                                                                                                                                                                                                                                           |
| **encryption\_health\_check\_url**               | encryption service health check endpoint                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **encryption\_uri**                              | encryption service encrypt api endpoint                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **encryption\_batch\_uri**                       | encryption service batch encrypt api endpoint                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **decryption\_uri**                              | encryption service decrypt api endpoint                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **decryption\_batch\_uri**                       | encryption service batch decrypt api endpoint                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **encryption\_method**                           | `Normal`/`Imp` or keys from map value provided in encryption service property `type.to.method.map`                                                                                                                                                                                                                                                                                                                                                                     |
| **encryption\_tenant\_id**                       | tenant id to use for encryption                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **idgen\_enabled**                               | `boolean` to enable/disable idgen feature                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **idgen\_tenant\_id**                            | tenant id to use for id generation                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **idgen\_health\_check\_url**                    | idgen service health check api endpoint                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **idgen\_generate\_url**                         | idgen service id generate api endpoint                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **idgen\_id\_format\_url**                       | idgen service id format api endpoint                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **swagger\_enabled**                             | default `true`. boolean value to enable/disable swagger apis                                                                                                                                                                                                                                                                                                                                                                                                           |
| **swagger\_title**                               | to set custom title for swagger to be generated                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **swagger\_description**                         | to set custom description for swagger to be generated                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **swagger\_version**                             | to set a custom version for swagger                                                                                                                                                                                                                                                                                                                                                                                                                                    |

### Claims Service

| Properties         | Description                                                                                                   |
| ------------------ | ------------------------------------------------------------------------------------------------------------- |
| **sunbirdrc\_url** | used by claim service to communicate with sunbirdrc. url which corresponds to registry deployed host and port |

### Certificate Api service

<table><thead><tr><th>Properties</th><th>Description</th><th data-hidden></th><th data-hidden></th></tr></thead><tbody><tr><td><strong>CUSTOM_TEMPLATE_DELIMITERS</strong></td><td>Delimeters to be used to parse credential/certificate template. By default <code>{{,}}</code></td><td></td><td></td></tr><tr><td><strong>QR_TYPE</strong></td><td>Types of QR codes that sunbird supports<br>1. W3C-VC<br>2. URL-W3C-VC (if VC needs to be sent as a URL)<br>3. URL (If only a URL needs to be part of the QR. The URL will only contain the entity name and osid.</td><td></td><td></td></tr><tr><td><strong>CERTIFICATE_DOMAIN_URL</strong></td><td>Base URL to be used when <code>QR_TYPE</code> is URL*</td><td></td><td></td></tr></tbody></table>

### Certificate signer service

<table><thead><tr><th>Properties</th><th>Description</th><th data-hidden></th></tr></thead><tbody><tr><td><strong>CACHE_CONTEXT_URLS</strong></td><td>Predefine a set of context urls to be cached to avoid runtime network access.</td><td></td></tr><tr><td><strong>CONFIG_BASE_PATH</strong></td><td>path to config.json file where all the signing keys are stored</td><td></td></tr><tr><td><strong>CUSTOM_TEMPLATE_DELIMITERS</strong></td><td>Delimeters to be used to parse credential/certificate template. By default <code>{{,}}</code></td><td></td></tr></tbody></table>

### Notification Service

| Properties                    | Description                                                            |
| ----------------------------- | ---------------------------------------------------------------------- |
| **KAFKA\_BOOTSTRAP\_SERVERS** | Kafka bootstrap servers (ex: host:port)                                |
| **SMS\_AUTH\_KEY**            | api url to send sms to provided mobile numbers                         |
| **SMS\_AUTH\_KEY**            | authorization key for sms api url                                      |
| **ENABLE\_SMS**               | flag to enable sending sms using sms api                               |
| **TRACK\_NOTIFICATIONS**      | boolean value to track all sent notifications and fetch them if needed |

### Metrics Service

| Properties                    | Description                                                                |
| ----------------------------- | -------------------------------------------------------------------------- |
| **CLICK\_HOUSE\_URL**         | clickhouse database url along with port on which clickhouse is hosted      |
| **CLICKHOUSE\_DATABASE**      | database name where the events will be stored                              |
| **KAFKA\_BOOTSTRAP\_SERVERS** | url along with port number on which kafka is running                       |
| **KAFKA\_METRICS\_TOPIC**     | topic name to which registry produces events                               |
| **DATABASE\_PROVIDER\_NAME**  | type of database being used. eg clickhouse                                 |
| **REDIS\_URL**                | url where redis is hosted                                                  |
| **CRON\_ENABLE**              | boolean value which will run the cron job and save the aggregates to redis |
| **SCHEDULE\_INTERVAL**        | days interval after which you want to run cron job to compute aggregates   |
| **SCHEDULE\_TIME**            | time at which you want to run cron job to compute aggregates               |

### Bulk Issuance

| Properties            | Description                            |
| --------------------- | -------------------------------------- |
| REGISTRY\_BASE\_URL   | url on which registry is hosted        |
| DATABASE\_HOST        | host address of database               |
| DATABASE\_PORT        | port on which database is running      |
| DATABASE\_USER        | username of database                   |
| DATABASE\_PASSWORD    | password for that user of the database |
| DATABASE\_NAME        | database name                          |
| KEYCLOAK\_PUBLIC\_KEY | public key from keycloak               |
| KEYCLOAK\_URL         | url for keycloak                       |
| KEYCLOAK\_REALM       | keycloak realm name                    |

### Digilocker Certificate API

| Properties                  | Description                                                                                                                                         |
| --------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------- |
| DIGILOCKER\_HMAC\_AUTHKEY   | A random generated string. This will be used to verify the HMAC from request and HMAC from the request body. This is the API Key of Digilocker      |
| DIGILOCKER\_AUTH\_KEYNAME   | Needed to fetch HMAC From Request. Its default value is `x-digilocker-hmac`                                                                         |
| DIGILOCKER\_DOC\_ID\_PREFIX | Document prefix which needs to be sent it in response in order to map it to correct document in digilocker. This is different for different issuers |
| KEYCLOAK\_TOKEN\_URL        | Keycloak connection url                                                                                                                             |
| KEYCLOAK\_CLIENT\_SECRET    | secret key of keycloak admin client set by using sunbird\_sso\_admin\_client\_id                                                                    |
| KEYCLOAK\_CLIENT\_ID        | client id to be used as admin                                                                                                                       |
| REGISTRY\_URL               | Registry url                                                                                                                                        |

### Encryption Service

To enable the encryption/decryption feature in registry set the environment variable in .env file `ENCRYPTION_ENABLED=true`

| Properties                        | Description                                                                                                                                                                                                                          |
| --------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| server.port                       | port on which encryption should run                                                                                                                                                                                                  |
| server.servlet.context-path       | context path for encryption to run on                                                                                                                                                                                                |
| spring.datasource.url             | url to connect to database. eg Postgres - jdbc:postgresql://localhost:5432/yourdb                                                                                                                                                    |
| spring.flyway.url                 | url to connect to database. eg Postgres - jdbc:postgresql://localhost:5432/yourdb                                                                                                                                                    |
| spring.flyway.baseline-on-migrate | boolean, to handle migration scripts versioning                                                                                                                                                                                      |
| egov.mdms.provider                | <p>implemented class to provide master data. It has two classes implemented.<br><code>org.egov.enc.masterdata.provider.DBMasterDataProvider</code><br><code>org.egov.enc.masterdata.provider.WebServiceMasterDataProvider</code></p> |

### ID Gen Service

To enable Id generation feature\
1\. Add environment variable in .env file `IDGEN_ENABLED=true`\
2\. Follow documentation for [unique identifier fields](../use/schema-configuration.md#uniqueidentifierfields) in Schema Configuration to configure the schema

| Properties                        | Description                                                                                                                                                                                                                        |
| --------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| spring.datasource.url             | url to connect to database. eg Postgres - jdbc:postgresql://localhost:5432/yourdb                                                                                                                                                  |
| spring.flyway.baseline-on-migrate | boolean, to migration scripts versioning                                                                                                                                                                                           |
| autocreate.new.seq                | boolean, set true to auto create sequences provided in schema configurations property `uniqueIdentifierFields`                                                                                                                     |
| idformat.from.mdms                | booean, set true to fetch id format from mdms                                                                                                                                                                                      |
| egov.mdms.provider                | <p>implemented class to provide master data. It has two classes implemented.<br><code>org.egov.id.masterdata.provider.DBMasterDataProvider</code><br><code>org.egov.id.masterdata.provider.WebServiceMasterDataProvider</code></p> |
